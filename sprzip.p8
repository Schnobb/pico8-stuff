pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
function _init()
 startx=0
 starty=8
 endx=127
 endy=127
 
 badr=0x0000
 offset=128*starty-startx
 sprlen=(1+endx-startx)*(1+endy-starty)
 
 -- 2 colors per byte
 sprlen\=2 
 offset\=2
 
 main()
 
 --print(sprlen)
end

function compress(addr,len)
 local cmp={}
 local curc=-1
 local cnt=0
 local idx=0
 
 for i=0,len do
  local c=peek(addr+i)
  local c1,c2=c&0xf,(c>>4)&0xf
  
  local cs={c1,c2}
  
  for _,ci in pairs(cs) do
   if curc!=ci or cnt>0xf then
    if cnt>0 then
     cmp[idx]=cnt
     cmp[idx+1]=curc
     cnt=0
     idx+=2
    end
    
    curc=ci
   end
   
   cnt+=1
  end
 end
 
 return cmp
end

function main()
 local cmp=compress(badr+offset,sprlen)
 local odd=false
 local tmpc=-1
 local curoff=0
 
 for i=0,#cmp,2 do
  local cnt=cmp[i]
  local curc=cmp[i+1]
  local tmpcnt=cnt
  
  for j=0,cnt do
   if odd then
    poke(badr+curoff,((tmpc&0xf)<<4)|(curc&0xf))
    curoff+=1
   else
    tmpc=curc
   end
    
   odd=(j%2)>0
  end
 end
 
 cls(0)
 sspr(0,0,128,128,0,0)
end
__gfx__
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bb7bb7bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bbb77bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bbb77bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bb7bb7bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bbbbbbbbbbbbbbbbbbbbbbbee72eeeeeebbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bbbbbbbbbbbbbbfffffffff2e2ee7e2eee7bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bbbbbbbbbbbffffff9fffffeeeee2eee2ee2ebbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bbbbbbbbbfffffffffff9feeeeeeeeeeeeeeeeebbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bbbbbbbbffffffff9ffffffeeeeeeeeeeeeeeeeebbbbbbbbbbbbbbbbbbbbbbbbb42220bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bbbbbbffffff9ffffffffffeeeeeee7eeeeeeee2ebbbbbbbbbbbbbbbbbbbbbbb4422120bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bbbbbfff9fffffffffff9ffeeeeeeeeeeeee7eeeebbbbbbbbbbbbbbbbbbbbb2444221220bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bbbbf9fff9ffff9ffff99ffeeeeeeeeeeee22ee72ebbbbbbbbbbbbbbbbbbb2442221211210bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bbbfffffffffff9ff9ff9f9feeee7eee2eeee7222ebbbbbbbbbbbbbbbbbb244242122221000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bbfffffffffff99f99f9999feeee2eeeeeee22eee2bbbbbbbbbbbbbbbbb24244211211110101bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bbfffffffffff99f9ff9f9f9eeeeeeeee222e2e222bbbbbbbbbbbbbbb22424412221111100011bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bffffff99fff999f999999f9222e22e9e222222229bbbbbbbbbbbbbb2444242222111111100011bbbbbbbbbbbbbbbbbbbbbbbbbbbbb420bbbbbbbbbbbbbbbbbb
bffff9ffffff9999bbbbbbb9b222e22922e2e22229bbbbbbbbbbbbb2422441211111111110000001bbbbbbbbbbbbbbbbbbbbbbbbbb42220bbbbbbbbbbbbbbbbb
bfffffffff999bb9bbbbbbb9bbb222292222292bb9bbbbbbbbbbb2244442221111111111111001001bbbbbbbbbbbbbbbbbbbbbbbb42222000bbbbbbbbbbbbbbb
ffff9fffff99bbb9b9bbbbbbbbbbbbb9bbbbb9bbbbbbbbbbbbbb222422121111111111111111000111bbbbbbbbbbbbbbbbbbbbb22421210000bbbbbbbbbbbbbb
fff99fffff99bbb9b9bbbbbbbbbbbbb9bbbbb9bbbbbbbbbbbbb22424112111111111111111111000111bbbbbbbbbbbbbbbbbbb24212111100100bbbbbbbbbbbb
fff9ffffff99bbb9bbbbbbbbbbbbbbb9bbbbbbbbbbbbbbbbb22244212211111111111111111010001001bbbbbbbbbbbbbbbbb24122111110000010bbbbbbbbbb
9ff9f9ffff99bbb9bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb22224421211111111111111111111111000101bbbbbbbbbbbbbb24212111121110001110bbbbbbbbb
9fff999ffff9bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb2212212111111111111111111110111111001101bbbbbbbbbb222421211112111110000001bbbbbbbb
9fff99f9fff9bbbbbbbbbbbbbbbbbbbbbbb9bbbbbbbb2222222211111111111111111111111111110000101bbbbbbbb21422111111242111110000011bbbbbbb
9fffff999ff99bbbbbbbbbbbbbbbbbbbbbb9bbbbbbb2212212111111111111111111111111111111100010011bb2222222111111222421101100100001bbbbbb
9ff9fffff9ff99bbbbbbbbbbbbbbbbbbbbb9bbbbb22221122111111211111111111111111111111111000010112222121111111222421111111000001011bbbb
9ffffff9f99ff99bbbbbbbbbbbbbbbbbbbbbbbbb2212221111111122211111111111111111111111100000000011221111111122222111110111100001001bbb
bff9ffffffff9ff999bbbbbbbbbbbbbbbbbbbb222221111111111242111111111111111111111111111001001011111111112222224111111111100000001110
bffffff9ff9f99fff999bbbbbbbbbbbbbbbb21221211111111122242111111111111111111111111111100000001111111122121242111111111111000000001
bbfffffffffff999fff9999bbbbbbbbbbb2212211111111111222421111111111111111111111111111111000100111122221221221111111111111110001011
bbb99f9ff9fff99f99ffff99bbbbbbb2221221111111111112224211111111111111111111111101111111000001001221222224421110111101111111000000
bbbb9999fffffff9999fffffffffff22221111111111111121242111111111111111111111111111111111100000010012222224221111111111111110100000
bbbbb999ffffffffffffff9ff9ffffff211111191111111222411111111111111111111111111111111111110000100001224422111111111111111101111000
bbbbbb9999ffffffffffffffffff9fffff1111191111121242211111111111111111111111111111111101111000000000112221211111111111111111111110
bbbbbbb999999ffffffffff9f99f999fffff11191111212212111111111111111111111111111111111111111100000101011112111111111101111111111111
bbbbbbb99b99999f9fffffffff9f9ff9fffff1111112122421111111111111111111111111111111111111101110000000001111111111111111111111011110
bbbbbbbb9bbbb9f999999fffffff99999fffff111221242221111111111111111111111111111111011111111110000000100011111111111111111111111111
bbbbbbbb9bbbbbbb99999999fffffff99999fff12122422211111111111111111111111111111111111111111111100000001000111111111111111011111011
bbbbbbbb9bbbbbbb2299f99ff99fff9ff9f99fff2222222111111111111111111111111111111111111111111111110000000001001111111111111111111110
bbbbbbbb9bbbbbbb22219999f9ff9fff9f99ffff2241221111111111111111111111111111111111111111101111111000000000010011111111111111101111
bbbbbbbb9bbbbb121111119999fff99999fff9fff222922111111111111111111111111111111111111111111111111110000000000000111111111111111111
bbbbbbbbbbbb2221111111199f999999999ff99fff22911111111111111111111111111111111111111111111111111111100000010000101111111111110101
bbbbbbbbbb22111111111119f99999f9f9f99fff99f2911111111111111111111111111111111111111111111111111101110000000000000001111111111111
bbbbbbb2121111111119111f9999f99999999999ffff911111111111111111111111111111111111111111111101111111111100000010010000101111111111
bb122222111111111119111f9999999999f9f99999ff991111111111111111111111111111111111111111111111111111111110000000000000000001111111
22211111111111111119911f9f999f9ff9999ff999f9f99111111111111111111111111111111111111111111111111110111111100000000000000100000011
1111111111111111111991999999999999999999f999ff9111111111111111111111111111111111111111111111111111111111111000010001000000000100
1111111111111111119999999999999999999999f99999ff99111111111111111111111111111111111111111111111111111111111110000000001000000000
1111111111111111119999999444444444444999999999fff9991111111111111111111111111111111111111111111111111101111111100000000000001001
11111111111111119999994444444444444244444244449999999999111111111111111111111111111111111111111011111111111111111100000000000000
11111111111111999949444444444244442444444444424449999949999999111111111111111111111111111111111111111111111110111111000100010010
11111111191999944444424424444444444222444424244444244999999999499999911111111111111111111111111111111011111111111111100000000000
11111999999444444444444224424444244444444444444444424442499949999949994999111111111111111111111111111111111101111111011100000000
11999999944444242222444444444444422222222222222224444444444444424499999999949911111111111111111111111111111111111111111110000000
99999422242444444444444411111112222222222222212222222222244442444444444449999499991111111111111111111111111111111011111111110000
92244444441111222221222222221222122121212222222222222222222222244444242444249994949999911111111111111111110111111111111111111110
44444442222222122122222211112122212222222221222221121222212222222224444444442499249949949999991111111111111111111111011111110111
44422222221221222222211111111141110000000000000002222221122212221222222224244444499999999999999999111111111111111111111111111111
42222122212221111112111112111112111121111111112111111111111112122122112222244444424442449999444999999111111111111111111111111111
22121221112111111111111401111421111111111121111111111111111111122122122111112124222444444429999994499999999111111011111110111011
22111111111111121112111110000000000000040000112111112111112111111112222122122121122222244422449999994499999999911111111111111111
00111111200001111000000000000000011111111111111111121110111111111111111111111222212122112224222224499999444249991111111111111111
01110000111111111111111111111111111111110000000111111111111111121111111111114111112222212242142241222244424444449999111111111111
00000011000000111110001111111111100000001111111111111111112111111111111211111121111111222222122222222222424449999999999111101111
00111100111111100000000011111111111111111111111111111111111111111111114111111112111111111112222111221242222222442444999991111111
11111111111111111111111111111111111111111111111111111111111111111111111121111111111121114111111222211112222242222444444999999911
11111111111111111111110000111111111111111111111100111111111111111111111111111111121100000020011111112222111222222214424449999911
11111111111111111011111111100111111111000000011111111111111111111111111111111111111111211111111120011111222211121222241444499999
11111110011101111111100011111111111111111111100000000000100000000111110000000011111111111100200011110000111122221122224424444999
00011011101111111111111111100000000000000000000000000000011110000000001111110000000000111111111002004112100111112222122244244449
01111111111111111100000000000000000000000000000000000000000001111100000000001111111000000001111111100002111120111111221222444244
10111111111111111111111111111111111111111111111111111111110000000011111100000000000111111100000011111111110111111211112212122244
11001111111111110000000000000000000000000000000000000000001111111111100011111000000000000011111000001111111120211001111022212212
11110000000000000000000000000000000000000000000000000000000000000000011111111111111111100000000111100000111111110110211111012222
00000000000000000000000000000000000000000000000000000000000000000000000000000000011111011110000000011110000101111101100111110112
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000111111111111110001111011111112111111211102
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011100001111000111111111111111111210
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011111100111111000111111111102101
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011111011110000111110111120
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000111011000011111101101
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001111110000111111111
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001111100011011100
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011111010111111
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000111111101101
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011011111010
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000111111101
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000111110
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001111
